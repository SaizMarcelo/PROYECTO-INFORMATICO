<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto Informatico</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style_responsive.css')}}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body>
    <header>
        <h1>SISTEMA DE FACTURACION Y GESTION ONLINE </h1>
    </header>

    <nav class="main-menu">
        <section class="menu-group">
            <h2> Perfil </h2>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), openModal_usuario(), cargarDatosUsuarios()"> Editar Datos </span>
            </a>
        </section>

        <section class="menu-group">
            <h2> Clientes </h2>
            <a>
                <span class="menu-text" id="nuevoCliente" onclick="comprobarTokenExprirado(), openModalCrearCliente()"> Nuevo </span>
            </a>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), cargarClientes()"> Lista </span>
            </a>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), rankingClientes()"> Ranking Clientes </span>
            </a>
        </section>

        <section class="menu-group">
            <h2> Productos </h2>
            <a>
                <span class="menu-text" id="nuevoProducto" onclick="comprobarTokenExprirado(), openModalCrearProducto()"> Nuevo </span>
            </a>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), cargarProductos()"> Lista </span>
            </a>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), rankingProductos()"> Ranking Productos </span>
            </a>
        </section>

        <section class="menu-group">
            <h2> Servicios </h2>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), openModalCrearServicio()"> Nuevo </span>
            </a>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), cargarServicio()"> Lista </span>
            </a>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), rankingServicios()"> Ranking Servicios </span>
            </a>
        </section>

        <section class="menu-group">
            <h2> Factura </h2>
            <a>
                <span class="menu-text" id="crearFactura" onclick="comprobarTokenExprirado(), openModalMostrarCrearFactura()"> Nueva </span>
            </a>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), cargarFacturas()"> Lista </span>
            </a>
            <a>
                <span class="menu-text" onclick="comprobarTokenExprirado(), flujoProductos()"> Movimientos </span>
            </a>
        </section>

        <section class="menu-group">
            <h2> Sesion </h2>
            <a>
                <span class="menu-text" onclick="cerrarSesion()"> Salir </span>
            </a>
        </section>
    </nav>


    <main>
        <div id="contenedorDinamico">
            <!-- Contenido dinamico de JavaScript-->
        </div>
    </main>


    <!-- MODAL DATOS PERFIL -->
    <div id="myModal_usuario" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal_usuario()">&times;</span>
            <h3>FORMULARIO: DATOS DEL USUARIO:</h3>
            
                <label for="username_usuario">Username:</label>
                <input type="text" id="username_usuario" onkeyup="" placeholder="username">
                <span  id="nombre_de_usuario_validacion" class="error"></span>

                <label for="password_usuario">Password:</label>
                <input type="password" id="password_usuario" onkeyup="" placeholder="password">
                <span  id="contrasenia_usuario_validacion" class="error"></span>

                <label for="cuil_cuit_usuario">Cuil_Cuit:</label>
                <input type="text" id="cuil_cuit_usuario" onkeyup="" placeholder="cuil_cuit">
                <span  id="" class="error"></span>

                <label for="address_usuario">Address:</label>
                <input type="text" id="address_usuario" onkeyup="" placeholder="address">
                <span  id="direccion_usuario_validacion" class="error"></span>

                <label for="email_usuario">Email:</label>
                <input type="text" id="email_usuario" onkeyup="" placeholder="email">
                <span  id="email_usuario_validacion" class="error"></span>

                <label for="name_usuario">Name:</label>
                <input type="text" id="name_usuario" onkeyup="" placeholder="name">
                <span  id="nombre_usuario_validacion" class="error"></span>

                <label for="phone_number_usuario">Phone Number:</label>
                <input type="text" id="phone_number_usuario" onkeyup="" placeholder="phone_number">
                <span  id="telefono_usuario_validacion" class="error"></span>


                <button id="guardarCambios_usuario" onclick="comprobarTokenExprirado(), comprobarUsuario()"> Modificar Datos </button>
                <button id="eliminarUsuario" onclick="comprobarTokenExprirado(), eliminarUsuario()"> Eliminar Usuario </button>
                <button onclick="comprobarTokenExprirado(), closeModal_usuario()"> Salir </button>
        </div>
    </div>


    <!-- MODAL VER CLIENTE EN LISTA DE CLIENTES -->
    <div id="myModal_cliente" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModalCliente()">&times;</span>

            <h3>FORMULARIO: DATOS CLIENTES:</h3>
        
            <label for="cuil_cuit_cliente">Cuil_Cuit:</label>
            <input type="text" id="cuil_cuit_cliente" onkeyup="" placeholder="cuil_cuit">
            <span  id="cuil_cuit_cliente_validacion" class="error"></span>

            <label for="address_cliente">Adress:</label>
            <input type="text" id="address_cliente" onkeyup="" placeholder="address">
            <span  id="direccion_cliente_validacion" class="error"></span>

            <label for="email_cliente">Email:</label>
            <input type="text" id="email_cliente" onkeyup="" placeholder="email">
            <span  id="email_cliente_validacion" class="error"></span>

            <label for="id_cliente">Id Cliente:</label>
            <input type="number" id="id_cliente" onkeyup="" placeholder="id">

            <label for="name_cliente">Name:</label>
            <input type="text" id="name_cliente" onkeyup="" placeholder="name">
            <span  id="nombre_cliente_validacion" class="error"></span>

            <label for="phone_number_cliente">Phone Number:</label>
            <input type="text" id="phone_number_cliente" onkeyup="" placeholder="phone_number">
            <span  id="telefono_cliente_validacion" class="error"></span>


            
            <button id="botonEditarCliente" onclick="comprobarTokenExprirado(), botonEditarCliente()"> Editar </button>
            <button id="guardarCambiosCliente" onclick="comprobarTokenExprirado(), comprobarEditarCliente()"> Guardar Cambios </button>
            <button id="borrarCliente" onclick="comprobarTokenExprirado(), borradoLogicoCliente()"> Borrar </button>
            <button onclick="comprobarTokenExprirado(), closeModalCliente()"> Salir </button>
        
        </div>
    </div>

    <!-- MODAL CARGAR CLIENTE NUEVO -->
    <div id="myModal_crear_cliente" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModalCliente()">&times;</span>
            <h3>FORMULARIO: DATOS NUEVO CLIENTE:</h3>
            
            <label for="cuil_cuit_crear_cliente">Cuil_Cuit:</label>
            <input type="text" id="cuil_cuit_crear_cliente" onkeyup="" placeholder="cuil_cuit">
            <span id="cuil_cuit_crear_cliente_validacion" class="error"></span>

            <label for="address_crear_cliente">Adress:</label>
            <input type="text" id="address_crear_cliente" onkeyup="" placeholder="address">
            <span id="direccion_crear_cliente_validacion" class="error"></span>

            <label for="email_crear_cliente">Email:</label>
            <input type="text" id="email_crear_cliente" onkeyup="" placeholder="email">
            <span id="email_crear_cliente_validacion" class="error"></span>

            <label for="name_crear_cliente">Name:</label>
            <input type="text" id="name_crear_cliente" onkeyup="" placeholder="name">
            <span id="nombre_crear_cliente_validacion" class="error"></span>

            <label for="phone_number_crear_cliente">Phone Number:</label>
            <input type="text" id="phone_number_crear_cliente" onkeyup="" placeholder="phone_number">
            <span id="telefono_crear_cliente_validacion" class="error"></span>

            
            <button id="guardarCambios_crear_cliente" onclick="comprobarTokenExprirado(), comprobarCrearCliente()"> Crear Cliente </button>
            <button onclick="comprobarTokenExprirado(), closeModalCliente()"> Salir </button>
        </div>
    </div>


    <!-- MODAL DATOS PRODUCTOS -->
    <div id="myModalProducto" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModalProducto()">&times;</span>
            <h3>FORMULARIO: PRODUCTOS</h3>
        
            <label for="nombre_producto">Name:</label>
            <input type="text" id="nombre_producto" onkeyup="" placeholder="nombre">
            <span  id="validar_nombre_producto" class="error"></span>

            <label for="precio_unidad">Unitary Price:</label>
            <input type="number" id="precio_unidad" onkeyup="" placeholder="precio por unidad">
            <span  id="validar_precio_unidad" class="error"></span>

            <label for="unidades_almacenadas">Uniits Stored:</label>
            <input type="number" id="unidades_almacenadas" onkeyup="" placeholder="unidades en stock">
            <span  id="validar_unidades_almacenadas" class="error"></span>

            <label for="iva_producto">Iva:</label>
            <input type="number" id="iva_producto" onkeyup="" placeholder="iva">
            <span  id="validar_iva_producto" class="error"></span>

            <label for="descripcion_producto">Description:</label>
            <input type="text" id="descripcion_producto" onkeyup="" placeholder="description">
            <span  id="validar_descripcion_producto" class="error"></span>

            
            <button id="modificarDatosProducto" onclick="comprobarTokenExprirado(), comprobarProducto()"> Guardar Cambios </button>
            <button id="botonEditarProducto" onclick="comprobarTokenExprirado(), botonEditarProducto()"> Editar </button>
            <button id="borrarProducto" onclick="comprobarTokenExprirado(), borradoLogicoProducto()"> Borrar </button>
            <button onclick="comprobarTokenExprirado(), closeModalProducto()"> Salir </button>
        </div>
    </div>

    <!-- MODAL CREAR PRODUCTOS -->
    <div id="myModalCrearProducto" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModalProducto()">&times;</span>
            <h3>FORMULARIO: PRODUCTOS</h3>
      
            <label for="nombre_crear_producto">Name:</label>
            <input type="text" id="nombre_crear_producto" onkeyup="" placeholder="name">
            <span  id="validar_nombre_crear_producto" class="error"></span>

            <label for="precio_unidad_crear_producto">Unitary Price:</label>
            <input type="number" id="precio_unidad_crear_producto" onkeyup="" placeholder="unitary_price">
            <span  id="validar_precio_unidad_crear_producto" class="error"></span>

            <label for="unidades_almacenadas_crear_producto">Uniits Stored:</label>
            <input type="number" id="unidades_almacenadas_crear_producto" onkeyup="" placeholder="units_stored">
            <span  id="validar_unidades_almacenadas_crear_producto" class="error"></span>

            <label for="iva_crear_producto">Iva:</label>
            <input type="number" id="iva_crear_producto" onkeyup="" placeholder="iva">
            <span  id="validar_iva_crear_producto" class="error"></span>

            <label for="descripcion_crear_producto">Description:</label>
            <input type="text" id="descripcion_crear_producto" onkeyup="" placeholder="description">
            <span  id="validar_descripcion_crear_producto" class="error"></span>

            <button id="crearProducto" onclick="comprobarTokenExprirado(), comprobarCrearProducto()"> Crear Producto </button>
            <button onclick="comprobarTokenExprirado(), closeModalProducto()"> Salir </button>

        </div>
    </div>

    <!-- MODAL DATOS SERVICIOS -->
    <div id="myModalServicio" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModalServicio()">&times;</span>
            <h3>FORMULARIO: SERVICIOS</h3>
            <p>Controle que los datos sean correctos antes de realizar cualquier modificacion y editarlos.</p>
            <label for="nombre_servicio">Nombre:</label>
            <input type="text" id="nombre_servicio" onkeyup="" placeholder="Nombre del servicio">
            <span  id="validar_nombre_servicio" class="error"></span>
          
            <label for="precio_hora">Valor hora:</label>
            <input type="number" id="precio_hora" onkeyup="" placeholder="Valor hora del servicio">
            <span  id="validar_precio_hora_servicio" class="error"></span>

            <label for="iva_servicio">Iva:</label>
            <input type="number" id="iva_servicio" onkeyup="" placeholder="Iva">
            <span  id="validar_iva_servicio" class="error"></span>

            <label for="descripcion_servicio">Descripcion:</label>
            <input type="text" id="descripcion_servicio" onkeyup="" placeholder="Descripcion">
            <span  id="validar_descripcion_servicio" class="error"></span>
            
            
            <button id="modificarDatosServicio" onclick="comprobarTokenExprirado(), comprobarServicio()"> Guardar Cambios </button>
            <button id="botonEditarServicio" onclick="comprobarTokenExprirado(), botonEditarServicio()"> Editar </button>
            <button id="borrarServicio" onclick="comprobarTokenExprirado(), borradoLogicoServicio()"> Borrar </button>
            <button onclick="comprobarTokenExprirado(), closeModalServicio()"> Salir </button>
        </div>
    </div>

    <!-- MODAL CREAR PRODUCTOS -->
    <div id="myModalCrearServicio" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModalServicio()">&times;</span>
            <h3>FORMULARIO: ServicioS</h3>
            <p>Controle que los datos sean correctos antes de realizar cualquier modificacion y editarlos.</p>
            <label for="nombre_crear_servicio">Nombre:</label>
            <input type="text" id="nombre_crear_servicio" onkeyup="" placeholder="nomrbe servicio">
            <span  id="validar_nombre_crear_servicio" class="error"></span>

            <label for="precio_hora_crear_servicio">Valor hora:</label>
            <input type="number" id="precio_hora_crear_servicio" onkeyup="" placeholder="precio por hora">
            <span  id="validar_precio_hora_crear_servicio" class="error"></span>

            <label for="iva_crear_servicio">Iva:</label>
            <input type="number" id="iva_crear_servicio" onkeyup="" placeholder="iva">
            <span  id="validar_iva_crear_servicio" class="error"></span>

            <label for="descripcion_crear_servicio">Descripcion:</label>
            <input type="text" id="descripcion_crear_servicio" onkeyup="" placeholder="descipcion">
            <span  id="validar_descripcion_crear_servicio" class="error"></span>


            <button id="crearServicio" onclick="comprobarTokenExprirado(), comprobarCrearServicio()"> Crear Servicio </button>
            <button onclick="comprobarTokenExprirado(), closeModalServicio()"> Salir </button>
        </div>
    </div>

    <div id="myModalMostrarFactura" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModalFactura()">&times;</span>
            <h3 id="nroFactura">FACTURA NUMERO: </h3>
            <form>
                <span id="cuitUsuario">Emisor: </span>
                <span id="cuitCliente">Receptor: </span>
                <div id="facturaParcial">

                </div>
                <span id="montoTotal">TOTAL: </span>
                <span id="montoIva">IVA: </span>
                <button onclick="comprobarTokenExprirado(), closeModalFactura()"> Salir </button>
            </form>
        </div>
    </div>

    <div id="myModalFactura" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModalFactura()">&times;</span>
            <h3>FORMULARIO: DATOS FACTURA A EMITIR:</h3>
     
            <p>--- DATOS EMISOR FACTURA --- </p>
            <label for="user_id_crear_factura"> USER ID:</label>
            <input type="number" id="user_id_crear_factura" onkeyup="" placeholder="user_id">
            <label for="cuil_cuit_crear_factura">CUIT_CUIL:</label>
            <input type="text" id="cuil_cuit_crear_factura" onkeyup="" placeholder="cuit_cui_emisor">
            <label for="address_crear_factura">Address:</label>
            <input type="text" id="address_crear_factura" onkeyup="" placeholder="address">
            <label for="name_crear_factura">Denominacion:</label>
            <input type="text" id="name_crear_factura" onkeyup="" placeholder="denominacion">
            <label for="email_crear_factura">Name:</label>
            <input type="text" id="email_crear_factura" onkeyup="" placeholder="email">
            <label for="phone_number_crear_factura">Phone Number:</label>
            <input type="text" id="phone_number_crear_factura" onkeyup="" placeholder="phone_number">

            <p>--- DATOS RECEPTOR FACTURA --- </p>
            <div>
                <label for="user_id_cliente_crear_factura">N° Cliente:</label>
                <input type="number" id="user_id_cliente_crear_factura" onkeyup="" placeholder="Ingres Numero de Cliente">
                <span  id="cargar_cliente" class="error"></span>

                <button onclick="comprobarTokenExprirado(), buscarDatosClienteFactura()"> VALIDAR </button>
            </div>
            
            <label for="cuil_cuit_cliente_crear_factura">CUIT_CUIL:</label>
            <input type="text" id="cuil_cuit_cliente_crear_factura" onkeyup="" placeholder="cuit cuil receptor">
            
            <label for="address_cliente_crear_factura">Address:</label>
            <input type="text" id="address_cliente_crear_factura" onkeyup="" placeholder="address receptor">
            
            <label for="name_cliente_crear_factura">Denominacion:</label>
            <input type="text" id="name_cliente_crear_factura" onkeyup="" placeholder="denominacion receptor">
            
            <label for="email_cliente_crear_factura">Email:</label>
            <input type="text" id="email_cliente_crear_factura" onkeyup="" placeholder="email">
            
            <label for="phone_number_cliente_crear_factura">Phone Number:</label>
            <input type="text" id="phone_number_cliente_crear_factura" onkeyup="" placeholder="phone_number receptor">

            <p>--- SERVICIOS PRESTADOS --- </p>
            <div>
                <label for="id_servicio_crear_factura">Codigo Servicio:</label>
                <input type="number" id="id_servicio_crear_factura" onkeyup="" placeholder="Codigo Serv ...">
                <label for="horas_servicio_crear_factura">Horas Prestadas:</label>
                <input type="number" id="horas_servicio_crear_factura" onkeyup="" placeholder="Horas Serv ...">
                <span  id="ingreso_servicio" class="error"></span>

                <button onclick="comprobarTokenExprirado(), cargarListaServiciosFactura()"> INGRESAR </button>
            </div>
            <div id="contenedorDinamicoServicioFactura">
                <!-- Contenido dinamico de JavaScript-->
            </div>
            <div id="contenedorDinamicoServicioFacturaResultado">
                <!-- Contenido dinamico de JavaScript-->
            </div>

            <p>--- PRODUCTOS VENDIDOS --- </p>
            <div>
                <label for="id_producto_crear_factura">Codigo Producto:</label>
                <input type="number" id="id_producto_crear_factura" onkeyup="" placeholder="Codigo Prod ...">
                <label for="cantProducto_crear_factura">Unidades Vendidas:</label>
                <input type="number" id="cantProducto_crear_factura" onkeyup="" placeholder="Unidades Producto ...">
                <span  id="ingreso_producto" class="error"></span>

                <button onclick="comprobarTokenExprirado(), cargarListaProductosFactura()"> INGRESAR </button>
            </div>
            <div id="contenedorDinamicoProductosFactura">
                <!-- Contenido dinamico de JavaScript-->
            </div>
            <div id="contenedorDinamicoProductosFacturaResultado">
                <!-- Contenido dinamico de JavaScript-->
            </div>
            <div id="contenedorDinamicoTotalFacturaResultado">
                <!-- Contenido dinamico de JavaScript-->
            </div>
            
            <button id="emitirFactura" onclick="comprobarTokenExprirado(), emitirFactura()"> Emitir Factura </button>
            <button onclick="comprobarTokenExprirado(), closeModalFactura()"> Salir </button>
        </div>
    </div>

    <footer>
        <p>Proyecto Informático - T.U. Tecnologías de la Programación (UPSO)</p>
        <p>Santi - Pisciolari Chauvié - Saiz</p>
    </footer>

    <!-- Abrimos una nueva pagina y recuparamos la informacion del LOCALSTORAGE-->
    <h3> Bienvenido !!! <span id="username"></span></h3>

</body>

<script src="{{ url_for('static', filename='localStorage.js') }}"></script>
<script src="{{ url_for('static', filename='cliente.js') }}"></script>
<script src="{{ url_for('static', filename='usuario.js') }}"></script>
<script src="{{ url_for('static', filename='productos.js') }}"></script>
<script src="{{ url_for('static', filename='factura.js') }}"></script>
<script src="{{ url_for('static', filename='servicios.js') }}"></script>
<script src="{{ url_for('static', filename='rankings.js') }}"></script>
</html>